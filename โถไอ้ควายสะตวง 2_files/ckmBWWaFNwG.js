if (self.CavalryLogger) { CavalryLogger.start_js(["a0hFh"]); }

__d("NotifType",[],(function a(b,c,d,e,f,g){f.exports={LIKE:"like",OPEN_GRAPH_ACTION_LIKE:"open_graph_action_like",LIKE_TAGGED:"like_tagged",PAGE_FAN:"page_fan",IG_MEDIA_LIKE:"ig_media_like",FEEDBACK_REACTION_GENERIC:"feedback_reaction_generic",FEEDBACK_REACTION_GENERIC_TAGGED:"feedback_reaction_generic_tagged",MESSENGER_REACTIONS:"messenger_reactions",MARKETPLACE_RECEIVED_RATING:"marketplace_received_rating",MARKETPLACE_RECEIVED_RATING_COMPLETED:"marketplace_received_rating_completed"};}),null);
__d('AdsBoostedComponentCommonV2AymtAutoOpenDialogLinkClickDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'BoostedComponentCommonV2AymtAutoOpenDialogLinkClick',actionType:'BoostedComponentCommon.AYMT_AUTO_OPEN_DIALOG_LINK_CLICK'};f.exports=h;}),null);
__d('AdsBoostedComponentCommonV2AymtAutoOpenDialogLinkClickDataAction',['AdsBoostedComponentCommonV2AymtAutoOpenDialogLinkClickDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsBoostedComponentCommonV2AymtAutoOpenDialogLinkClickDataActionPlugin'));f.exports=h;}),null);
__d('BoostedComponentAYMTActionsV2',['AdsBoostedComponentCommonV2AymtAutoOpenDialogLinkClickDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={aymtAutoOpenDialogLinkClick:function i(j,k,l,m,n){c('AdsBoostedComponentCommonV2AymtAutoOpenDialogLinkClickDataAction').dispatch({appID:j,pageID:k,targetID:l,boostID:m,placement:n});}};f.exports=h;}),null);
__d('NotificationBucketDataCache',['WebStorage','md5'],(function a(b,c,d,e,f,g){var h=c('WebStorage').getLocalStorage,i=c('WebStorage').setItemGuarded,j=h(),k='notification_buckets',l=1,m=function r(s,t){var u=c('md5')(s+':'+t);return k+'_'+l+':'+u;},n=function r(s,t){var u=j?j.getItem(m(s,t)):null;return u?JSON.parse(u):p();},o=function r(s,t,u){if(j)i(j,m(s,t),JSON.stringify(u));},p=function r(){return {firstSeenTime:-1,firstReadTime:-1};},q={getFirstSeenTime:function r(s,t){return n(s,t).firstSeenTime;},getFirstReadTime:function r(s,t){return n(s,t).firstReadTime;},setFirstSeenTime:function r(s,t,u){var v=n(s,t);if(v.firstSeenTime!==-1)return;o(s,t,babelHelpers['extends']({},v,{firstSeenTime:u}));},setFirstReadTime:function r(s,t,u){var v=n(s,t);if(v.firstReadTime!==-1)return;o(s,t,babelHelpers['extends']({},v,{firstReadTime:u}));}};f.exports=q;}),null);
__d('NotificationBucketUtils',['JSResource','WebStorage'],(function a(b,c,d,e,f,g){'use strict';var h=false,i=void 0,j=['priority_inbox','mixed_state_notifs','fallback','ticker'],k=['priority_inbox','mixed_state_notifs','fallback'],l={isClientSupported:function m(){if(h===false){h=true;i=c('WebStorage').getLocalStorage()!==null;}return !!i;},isGenericBucketType:function m(n){return k.indexOf(n)!==-1;},isBucketTypeSupported:function m(n){return j.indexOf(n)!==-1;},getModuleForType:function m(n){switch(n){case 'ticker':return c('JSResource')('NotificationBucketTicker.react').__setRef('NotificationBucketUtils');default:return null;}}};f.exports=l;}),null);
__d('NotificationGenericBucket',['NotificationBucketDataCache','NotificationSeenState'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$NotificationGenericBucket2=[];this.$NotificationGenericBucket3={};this.$NotificationGenericBucket4={};this.$NotificationGenericBucket7=function(j,k){var l=this.$NotificationGenericBucket4[j],m=this.$NotificationGenericBucket4[k];return Number(m)-Number(l);}.bind(this);this.$NotificationGenericBucket1=i;}h.prototype.getType=function(){return this.$NotificationGenericBucket1.bucket_type;};h.prototype.getTitle=function(){return this.$NotificationGenericBucket1.title;};h.prototype.getSortedIDs=function(){return this.$NotificationGenericBucket2.slice();};h.prototype.insertIfEligible=function(i){if(!this.$NotificationGenericBucket5(i))return false;return this.$NotificationGenericBucket6(i);};h.prototype.$NotificationGenericBucket6=function(i){var j=i.alert_id;if(this.$NotificationGenericBucket3[j])return true;this.$NotificationGenericBucket2.push(j);this.$NotificationGenericBucket3[j]=true;var k=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sort_key_index);if(k>-1){var l=i.sort_keys?i.sort_keys[k]:null;if(l){this.$NotificationGenericBucket4[j]=l;this.$NotificationGenericBucket2.sort(this.$NotificationGenericBucket7);}}return true;};h.prototype.$NotificationGenericBucket5=function(i){return this.$NotificationGenericBucket9(i)&&this.$NotificationGenericBucket10(i)&&this.$NotificationGenericBucket11(i)&&this.$NotificationGenericBucket12(i)&&this.$NotificationGenericBucket13(i)&&this.$NotificationGenericBucket14(i);};h.prototype.$NotificationGenericBucket8=function(i){return Number.isInteger(i)?Number(i):-1;};h.prototype.$NotificationGenericBucket9=function(i){if(!i.eligible_buckets)return false;return i.eligible_buckets.includes(this.getType());};h.prototype.$NotificationGenericBucket11=function(i){return c('NotificationSeenState').validateFilter(i.alert_id,this.$NotificationGenericBucket1.seen_filter);};h.prototype.$NotificationGenericBucket10=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.min_to_expire);return j===-1?true:Date.now()-i.creation_time<j*60*1000;};h.prototype.$NotificationGenericBucket12=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.max_count);return j===-1?true:this.$NotificationGenericBucket2.length<j;};h.prototype.$NotificationGenericBucket13=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sec_to_evict_seen),k=c('NotificationBucketDataCache').getFirstSeenTime(this.getType(),i.alert_id);return j===-1||k===-1?true:Date.now()-k<j*1000;};h.prototype.$NotificationGenericBucket14=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sec_to_evict_read),k=c('NotificationBucketDataCache').getFirstReadTime(this.getType(),i.alert_id);return j===-1||k===-1?true:Date.now()-k<j*1000;};h.prototype.$NotificationGenericBucket15=function(i){return true;};f.exports=h;}),null);
__d('NotificationBucketStore',['NotificationBucketDataCache','NotificationBucketUtils','NotificationGenericBucket','NotificationsBucketList','NotificationSeenState','NotificationStore','NotificationUpdates'],(function a(b,c,d,e,f,g){'use strict';var h=c('NotificationsBucketList').buckets.map(function(s){return new (c('NotificationGenericBucket'))(s);}),i={},j=[],k=function s(){j=h.map(function(t){return {ids:t.getSortedIDs(),title:t.getTitle()||'',bucketType:t.getType()};});},l=function s(t){for(var u=0,v=h.length;u<v;u++){var w=h[u];if(w.insertIfEligible(t)){m(t,w);return w.getType();}}return null;},m=function s(t,u){i[t.alert_id]=u.getType();},n=function s(t){var u=i[t];if(!u)return;c('NotificationBucketDataCache').setFirstReadTime(u,t,Date.now());},o=function s(t){var u=i[t];if(!u)return;c('NotificationBucketDataCache').setFirstSeenTime(u,t,Date.now());},p=function s(t){l(t);},q=function s(){var t=c('NotificationStore').getAll();Object.keys(t).map(function(u){return t[u];}).forEach(p);k();};if(c('NotificationBucketUtils').isClientSupported()){c('NotificationUpdates').subscribe('update-notifications',function(s,t){if(t.nodes){t.nodes.forEach(p);k();}});c('NotificationUpdates').subscribe('read-state-updated',function(s,t){if(t.updates)Object.keys(t.updates).forEach(function(u){if(c('NotificationSeenState').isRead(u))n(u);});});c('NotificationUpdates').subscribe('seen-state-updated',function(s,t){if(t.updates)Object.keys(t.updates).forEach(function(u){if(c('NotificationSeenState').isSeen(u))o(u);});});q();}var r={getBucketListData:function s(){return j;}};f.exports=r;}),null);
__d('NotificationHiddenState',['NotificationConstants','NotificationUpdates','isEmpty'],(function a(b,c,d,e,f,g){var h={};c('NotificationUpdates').subscribe('update-notifications',function(j,k){var l,m=k.nodes,n=k.payloadsource;if(n===c('NotificationConstants').PayloadSourceType.LIVE_SEND&&m&&m.length)(function(){var o={};m.forEach(function(p){var q=p.alert_id;if(h[q])o[q]=false;});if(!c('isEmpty')(o)){h=Object.assign(h,o);c('NotificationUpdates').didUpdateHiddenState(Object.keys(o));}})();});c('NotificationUpdates').subscribe('update-hidden',function(j,k){if(k.hiddenState){var l=k.hiddenState;h=Object.assign(h,l);c('NotificationUpdates').didUpdateHiddenState(Object.keys(l));}});var i={isHidden:function j(k){if(h[k])return h[k];return false;}};f.exports=i;}),null);
__d('NotificationTracking',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i={},j={getEncodedTrackingData:function k(l,m){return this._getTrackingInfo(l,m).encoded;},getTrackingString:function k(l,m){return this._getTrackingInfo(l,m).raw;},_getTrackingInfo:function k(l,m){var n=''+l.alert_id,o=i[n];if(o&&o.row===m)return o;var p=this._getEncodedTrackingDataWithRow(l,m);i[n]={row:m,encoded:p,raw:JSON.stringify(p)};return i[n];},_getTrackingAsObject:function k(l){var m=null,n=null;if(l.tracking)try{m=JSON.parse(l.tracking);}catch(o){n=o;}if(m===null||n!==null||typeof m!=='object')h(0);return m;},_getEncodedTrackingDataWithRow:function k(l,m){var n=this._getTrackingAsObject(l);if(m!='undefined'&&typeof m==='number')return babelHelpers['extends']({},n,{row:m});return n;}};f.exports=j;}),null);
__d('NotificationActor.react',['cx','ix','Image.react','React','RoundImage.react','SutroGatingConfig'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('SutroGatingConfig').avatar;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.actor,p=n.isCircle,q=n.isNotifsPage,r=o&&o.profile_picture?o.profile_picture.uri:i("97000"),s='',t=(!q?"_33h":'')+(q?' '+"_12u1":'')+(p?' '+"_4pt3":'');if(l.has_rounded_avatars){return c('React').createElement(c('RoundImage.react'),{src:r,alt:s,className:t});}else return c('React').createElement(c('Image.react'),{src:r,alt:s,className:t});};function m(){j.apply(this,arguments);}f.exports=m;}),null);
__d('NotificationAttachment.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.image;if(!l)return c('React').createElement('span',null);return c('React').createElement(c('Image.react'),{src:l.uri,className:"_42td",'aria-hidden':true});};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('NotificationFooter.react',['cx','BizSiteIdentifier.brands','Image.react','ImageBlock.react','React','Timestamp.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('BizSiteIdentifier.brands').isBizSite();i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.$NotificationFooter1=function(){var m=this.props,n=m.shortenTimestamp,o=m.timestamp;return c('React').createElement('span',{key:'timestamp'},c('React').createElement(c('Timestamp.react'),babelHelpers['extends']({className:"_33g",shorten:n},o)));};l.prototype.render=function(){var m=this.props,n=m.icon,o=m.metadata,p=[this.$NotificationFooter1()];if(o)p=[c('React').createElement('span',{key:'metadata'},o),c('React').createElement('span',{key:'dot'},' \u00B7 ')].concat(p);var q="_33f"+(k?' '+"_2g48":'');if(!n)return c('React').createElement('div',{className:q},p);return c('React').createElement(c('ImageBlock.react'),{className:q},c('React').createElement(c('Image.react'),{className:"_10cu",src:n.uri}),c('React').createElement('div',null,p));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d("NotificationClassification",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONVERSATIONS:"conversations",FAVORITE_GROUP:"favorite_group",MULTI_COMPANY_GROUPS:"multi_company_groups"});}),null);
__d('NotificationVPVs',['MarauderLogger','Set','getElementRect'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Set'))();function i(o){if(j(o))return;c('MarauderLogger').log('notifications_vpv',undefined,null,'notification',o);h.add(o);}function j(o){return h.has(o);}function k(){h.clear();}function l(o,p){if(!o||!p)return false;return !(o.bottom<p.top||o.top>p.bottom||o.right<p.left||o.left>p.right);}function m(o){var p=c('getElementRect')(o);if(!p||p.top==0&&p.bottom==0&&p.left==0&&p.right==0)return null;return p;}var n={logImpression:i,clearImpressions:k,hasLoggedImpression:j,getValidatedRectangle:m,areRectsOverlapping:l};f.exports=n;}),null);
__d('NotificationList.react',['invariant','FunnelLogger','NotificationBucketStore','NotificationClassification','NotificationConstants','NotificationHiddenState','NotificationJewelFunnelLoggingConstants','NotificationListConfig','NotificationSeenState','NotificationStore','NotificationUpdates','NotificationUserActions','NotificationVPVs','NotifType','QE2Logger','React','SubscriptionsHandler','getObjectValues','isEmpty','mapObject'],(function a(b,c,d,e,f,g,h){var i,j,k=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_NAME,l=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,m=c('React').PropTypes,n=c('NotificationConstants').PayloadSourceType.LIVE_SEND;i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={currentlyFetching:false,canFetchMore:true,notifs:{},hiddenState:{},readState:{},showingChevron:false,readWhilePausedOrNavigating:{}},this.$NotificationList1={},this.$NotificationList2=false,this.$NotificationList4=0,this.$NotificationList8=function(){var u={};Object.keys(this.$NotificationList1).forEach(function(v){var w=c('NotificationHiddenState').isHidden(v);if(w!=this.state.hiddenState[v])u[v]=w;}.bind(this));if(!c('isEmpty')(u))this.setState({hiddenState:babelHelpers['extends']({},this.state.hiddenState,u)});this.$NotificationList1={};this.$NotificationList5(c('NotificationStore').getCount(this.props.endpoint,this.props.filter,this.props.classification));}.bind(this),this.$NotificationList10=function(u,v,w){if(this.state.currentlyFetching||!this.state.canFetchMore)return;if(u){c('FunnelLogger').appendAction(k,l.FETCH_NEXT_SET);this.$NotificationList9();}this.$NotificationList11(v,w);}.bind(this),this.$NotificationList12=function(){this.setState({showingChevron:true});}.bind(this),this.$NotificationList13=function(){this.setState({showingChevron:false});}.bind(this),this.$NotificationList16=function(u){if(this.props.paused&&this.props.filter==='unread'){var v=babelHelpers['extends']({},this.state.readWhilePausedOrNavigating);v[u]=true;this.setState({readWhilePausedOrNavigating:v});}}.bind(this),this.$NotificationList17=function(u){this.$NotificationList4=u;}.bind(this),q;}o.prototype.componentWillMount=function(){'use strict';c('NotificationStore').registerEndpoint(this.props.endpoint,this.props.filter,this.props.classification);c('FunnelLogger').appendAction(k,l.FETCH_NOTIFICATIONS);this.$NotificationList3=new (c('SubscriptionsHandler'))();this.$NotificationList3.addSubscriptions(c('NotificationUpdates').subscribe('notifications-updated',function(p,q){if(q.source==n&&!c('isEmpty')(q.updates)){this.$NotificationList2=true;var r=this.props.paused;if(r){c('QE2Logger').logExposureForUser('www_notifications_paused_update_universe');if(!c('NotificationListConfig').updateWhenPaused){this.$NotificationList1=babelHelpers['extends']({},this.$NotificationList1,q.updates);return;}}}this.$NotificationList5(c('NotificationStore').getCount(this.props.endpoint,this.props.filter,this.props.classification));}.bind(this)),c('NotificationUpdates').subscribe(['hidden-state-updated','read-state-updated'],function(p,q){if(p=='hidden-state-updated'){if(q.source!==n||!this.props.paused){var r=c('mapObject')(q.updates,function(t,u){return c('NotificationHiddenState').isHidden(u);});this.setState({hiddenState:babelHelpers['extends']({},this.state.hiddenState,r)});}}else{var s=c('mapObject')(q.updates,function(t,u){return c('NotificationSeenState').isRead(u);});this.setState({readState:babelHelpers['extends']({},this.state.readState,s)});}}.bind(this)));};o.prototype.componentWillUnmount=function(){'use strict';if(this.$NotificationList3){this.$NotificationList3.release();this.$NotificationList3=null;}};o.prototype.componentWillReceiveProps=function(p){'use strict';if(!this.$NotificationList6(p)&&p.paused)return;if(this.props.enableHubView&&this.props.filter==='unread')return;this.setState({readWhilePausedOrNavigating:{}});};o.prototype.$NotificationList6=function(p){'use strict';return p.filter!==this.props.filter||p.classification!==this.props.classification;};o.prototype.$NotificationList7=function(p){'use strict';var q=Object.keys(this.state.notifs),r=Object.keys(p).filter(function(t){return !this.state.notifs[t];}.bind(this));q=q.concat(r);var s={};q.forEach(function(t){if(this.$NotificationList1[t]){if(this.state.notifs[t])s[t]=this.state.notifs[t];}else s[t]=p[t];}.bind(this));return s;};o.prototype.$NotificationList5=function(p){'use strict';var q=this.props,r=q.endpoint,s=q.filter,t=q.classification;this.setState({currentlyFetching:true});c('NotificationStore').getNotifications(p,function(u){var v=c('isEmpty')(this.$NotificationList1)?u:this.$NotificationList7(u),w={},x={};c('getObjectValues')(v).forEach(function(y){var z=y.alert_id;w[z]=c('NotificationSeenState').isRead(z);x[z]=c('NotificationHiddenState').isHidden(z);});this.setState({notifs:v,currentlyFetching:false,canFetchMore:c('NotificationStore').canFetchMore(r,s,t)||c('NotificationStore').getCount(r,s,t)!==Object.keys(v).length,readState:babelHelpers['extends']({},this.state.readState,w),hiddenState:babelHelpers['extends']({},this.state.hiddenState,x)});}.bind(this),r,s,t);};o.prototype.$NotificationList9=function(){'use strict';if(!this.state.currentlyFetching){var p=Object.keys(this.state.notifs).length;this.$NotificationList5(p+this.props.numPerPage);}};o.prototype.$NotificationList11=function(p,q){'use strict';if(!p||!q)return;for(var r=0,s=p.children.length;r<s;r++){var t=p.children[r];if(t){var u=t.getAttribute('data-alert-id');if(u&&!c('NotificationVPVs').hasLoggedImpression(u)){var v=c('NotificationVPVs').getValidatedRectangle(t);if(v&&c('NotificationVPVs').areRectsOverlapping(q,v))c('NotificationVPVs').logImpression(u);}}}};o.prototype.$NotificationList14=function(p){'use strict';if(c('NotificationListConfig').requestFullViewportOfNotificationsOnFirstOpen){var q=Math.max(this.props.numPerPage,Math.ceil(this.$NotificationList4)),r=q-p.length;if(r>0)this.$NotificationList5(r);}else if(p.length>this.props.numPerPage){this.$NotificationList5(p.length);}else this.$NotificationList9();};o.prototype.$NotificationList15=function(p){'use strict';var q=c('NotificationSeenState').getUnseenIDs();if(!c('isEmpty')(this.$NotificationList1))q=q.filter(function(r){return !this.$NotificationList1[r];}.bind(this));if(q.length&&(this.props.paused||this.props.enableHubView))c('NotificationUserActions').markNotificationsAsSeen(q);if(this.props.hasEverBeenOpened)if(!p||!p.hasEverBeenOpened)this.$NotificationList14(q);};o.isReaction=function(p){'use strict';return p===c('NotifType').LIKE||p===c('NotifType').OPEN_GRAPH_ACTION_LIKE||p===c('NotifType').LIKE_TAGGED||p===c('NotifType').PAGE_FAN||p===c('NotifType').IG_MEDIA_LIKE||p===c('NotifType').FEEDBACK_REACTION_GENERIC||p===c('NotifType').FEEDBACK_REACTION_GENERIC_TAGGED||p===c('NotifType').MESSENGER_REACTIONS;};o.prototype.componentDidUpdate=function(p){'use strict';this.$NotificationList15(p);if(p.paused&&!this.props.paused){this.$NotificationList2=false;setTimeout(this.$NotificationList8,0);return;}if(this.props.paused&&this.$NotificationList6(p)){setTimeout(this.$NotificationList8,0);return;}};o.prototype.componentDidMount=function(){'use strict';this.$NotificationList15();};o.prototype.render=function(){var p;'use strict';var q=this.props.listRenderer,r=this.state,s=r.notifs,t=r.readState,u=r.readWhilePausedOrNavigating,v={};if(this.props.filter==null){v=s;}else Object.keys(s).forEach(function(x){var y=s[x],z=y.alert_id,aa=t[z];if(this.props.filter==='unread')aa=!aa||Object.prototype.hasOwnProperty.call(u,z);if(aa)v[z]=y;}.bind(this));if(this.props.hideReactions)(function(){var x={};Object.keys(v).forEach(function(y){var z=s[y];if(!o.isReaction(z.notif_type))x[z.alert_id]=z;});v=x;})();if(this.props.classification)Object.keys(s).forEach(function(x){var y=s[x];this.props.classification||h(0);if(!y.classifications||!y.classifications.includes(this.props.classification))delete v[y.alert_id];}.bind(this));var w=c('NotificationBucketStore').getBucketListData();return c('React').createElement(q,{paused:this.props.paused,tracking:this.props.tracking,negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,maxHeight:this.props.maxHeight,useChevron:this.props.useChevron,chevronType:this.props.chevronType,buckets:w,notifs:v,afterScroll:this.$NotificationList10,onChevronShow:this.$NotificationList12,onChevronHide:this.$NotificationList13,currentlyFetching:this.state.currentlyFetching,canFetchMore:this.state.canFetchMore,hiddenState:this.state.hiddenState,readState:this.state.readState,showingChevron:this.state.showingChevron,shouldScroll:this.$NotificationList2,upsell:this.props.upsell||null,isRHC:this.props.isRHC,enableHubView:this.props.enableHubView,enableMarkUnread:this.props.enableMarkUnread,onRead:this.$NotificationList16,onNumNotificationsViewableChange:this.$NotificationList17});};o.propTypes={hasEverBeenOpened:m.bool,enableHubView:m.bool,enableMarkUnread:m.bool,maxHeight:m.number,negativeTracking:m.object,paused:m.bool,tracking:m.string,useChevron:m.bool,chevronType:m.string,numPerPage:m.number.isRequired,listRenderer:m.func.isRequired,upsell:m.object,endpoint:m.string,filter:m.string,classification:m.oneOf(c('getObjectValues')(c('NotificationClassification')))};f.exports=o;}),null);
__d('NotificationListItemChevron.react',['cx','AbstractPopoverButton.react','Banzai','BanzaiLogger','NotificationTokens','NotifTestIDs','PopoverMenu.react','QE2Logger','React','ReactXUIMenu','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('ReactXUIMenu').Item;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$NotificationListItemChevron1=function(){if(this.props.onHide)this.props.onHide();this.$NotificationListItemChevron2('close');}.bind(this),this.$NotificationListItemChevron3=function(){if(this.props.onShow)this.props.onShow();if(this.props.logMenuExposure)c('QE2Logger').logExposureForUser('pages_growth_optout_button');this.$NotificationListItemChevron2('open');var r={notif_type:this.props.notif_type};c('Banzai').post('notif_chevron_on_click',r);}.bind(this),n;}l.prototype.$NotificationListItemChevron2=function(m){var n={event:m,notif_type:this.props.notif_type,notif_id:parseInt(c('NotificationTokens').untokenizeIDs([this.props.alert_id])[0],10)};c('BanzaiLogger').log('NotifJewelMenuLoggerConfig',n);};l.prototype.$NotificationListItemChevron4=function(){var m=this.props.menu_options;if(!m||!m.length)return null;var n=c('React').createElement(c('ReactXUIMenu'),null,m.map(function(o){return c('React').createElement(k,{onclick:function(){return this.props.onMenuOptionClick(o);}.bind(this),key:o.client_action+o.server_action},c('React').createElement('div',{className:"_18qh"},o.text));}.bind(this)));return n;};l.prototype.render=function(){var m=this.$NotificationListItemChevron4();if(!m)return null;var n={button:c('React').createElement('a',{href:'#','aria-label':'Notification options',className:"_1_0d"})},o=c('React').createElement(c('PopoverMenu.react'),{'data-testid':c('NotifTestIDs').CHEVRON,alignh:'right',menu:m,className:c('joinClasses')(this.props.className,"_1_0c"),disableArrowKeyActivation:true,onShow:this.$NotificationListItemChevron3,onHide:this.$NotificationListItemChevron1},c('React').createElement(c('AbstractPopoverButton.react'),{config:n,haschevron:false,image:null,label:null}));return o;};f.exports=l;}),null);
__d('NotificationListItemContents.react',['cx','BizSiteIdentifier.brands','FlexibleBlock.react','ImageBlock.react','NotificationActor.react','NotificationAttachment.react','NotificationFooter.react','NotificationInterpolator','NotificationPhotoThumbnail','React','TextWithEntities.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('BizSiteIdentifier.brands').isBizSite();i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.$NotificationListItemContents1=function(){var m=this.props.notification.title;if(!m)return null;return c('React').createElement(c('TextWithEntities.react'),babelHelpers['extends']({interpolator:c('NotificationInterpolator')},m,{renderEmoji:true,renderEmoticons:true}));};l.prototype.render=function(){var m=this.$NotificationListItemContents1(),n=this.props,o=n.hideIcon,p=n.isNotifsPage,q=n.shortenTimestamp,r=n.notification,s=r.actors,t=r.icon,u=r.timestamp,v=c('React').createElement(c('NotificationActor.react'),{actor:s[0],isNotifsPage:p}),w=c('React').createElement(c('NotificationAttachment.react'),{image:c('NotificationPhotoThumbnail').getThumbnailForNotification(this.props.notification)}),x=c('React').createElement(c('NotificationFooter.react'),{icon:o?null:t,shortenTimestamp:q,timestamp:u});return c('React').createElement(c('ImageBlock.react'),null,v,c('React').createElement(c('FlexibleBlock.react'),{flex:c('FlexibleBlock.react').FLEX.left},c('React').createElement('div',{className:"_4l_v"},m,x),w));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('NotificationListItemOptionConfirmation.react',['cx','fbt','List.react','NotificationInterpolator','React','TextWithEntities.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props,n=m.follow_up_options,o=m.text,p=m.undo_action;return c('React').createElement('div',null,c('React').createElement('div',{className:"_4ai"},c('React').createElement(c('TextWithEntities.react'),{interpolator:c('NotificationInterpolator'),ranges:o.ranges,aggregatedranges:o.aggregatedranges,text:o.text||''}),c('React').createElement('a',{href:'#',onClick:function(){return this.props.onUndoClick(p);}.bind(this),className:'mls'},i._("Undo"))),c('React').createElement(c('List.react'),{border:'none',spacing:'small',className:"_1v4c"},n?n.map(function(q){return c('React').createElement('li',{key:q.client_action+q.server_action},c('React').createElement('a',{onClick:function(){return this.props.onMenuOptionClick(q);}.bind(this),href:'#',className:'mls'},q.text));}.bind(this)):null));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d("NotificationsSourceView",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HUB:"HUB"});}),null);
__d('NotificationListItem.react',['csx','cx','fbt','AsyncDialog','AsyncResponse','BizSiteIdentifier.brands','BoostedComponentAYMTActionsV2','BoostedComponentRef','BootloadedComponent.react','Bootloader','Event','JSResource','Keys','Link.react','LogicalGridCell.react','LogicalGridRow.react','NotificationListConfig','NotificationListItemChevron.react','NotificationListItemContents.react','NotificationListItemOptionConfirmation.react','NotificationSeenState','NotificationsSourceView','NotificationTracking','NotificationUserActions','NotificationUtils','NotifTestIDs','PageTransitions','Parent','React','ReactDOM','ReadToggle.react','RelationshipDelightUtils','Style','URI','idx'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=10000,n=10,o=c('BizSiteIdentifier.brands').isBizSite(),p=-1;k=babelHelpers.inherits(q,c('React').Component);l=k&&k.prototype;function q(){var r,s;'use strict';for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.prefetched=false,this.isLiveVideo=null,this.state={showingOptions:false,sendingFeedback:false,mayUndoHide:false,notifOptionConfirmation:null},this.$NotificationListItem6=function(w){this.$NotificationListItem5(w);var x=this.props.notification,y=x.ajaxify_url,z=x.url;if(y){var aa=new (c('URI'))(y),ba=aa.getQueryData(),ca=ba.app_id,da=ba.page_id,ea=ba.post_id,fa=ba.ref;if(fa===c('BoostedComponentRef').AYMT_AUTO_OPENED_DIALOG)c('BoostedComponentAYMTActionsV2').aymtAutoOpenDialogLinkClick(ca,da,ea,'',c('BoostedComponentRef').AYMT_AUTO_OPENED_DIALOG);}else if(z){var ga=new (c('URI'))(z),ha=ga.getQueryData(),ia=ha.aymt_tip;if(ia==='1')c('PageTransitions').go(ga.addQueryData('aymt_link_click',Date.now()));}var ja=this.props.notification.rendererData;if(!ja)return;if(c('NotificationUtils').canRenderInTahoe(ja)){this.$NotificationListItem7(w,ja);}else if(c('NotificationUtils').canRenderInVideoChannelView(ja))this.$NotificationListItem8(w,ja);}.bind(this),this.$NotificationListItem9=function(w){if(c('Event').getKeyCode(w.nativeEvent)==c('Keys').RETURN){var x=this.$NotificationListItem3();this.props.onSelected&&this.props.onSelected(x);this.$NotificationListItem5(w);}}.bind(this),this.$NotificationListItem10=function(){c('NotificationUserActions').setNextIsFromReadButton(true);if(this.props.isRead){if(this.$NotificationListItem2())this.$NotificationListItem11();}else this.$NotificationListItem5();}.bind(this),this.$NotificationListItem12=function(w){c('AsyncResponse').defaultErrorHandler(w);this.setState({sendingFeedback:false});}.bind(this),this.$NotificationListItem13=function(){this.setState({notifOptionConfirmation:null,sendingFeedback:false,showingOptions:false});}.bind(this),this.$NotificationListItem21=function(w){this.setState({showingOptions:true,sendingFeedback:false,notifOptionConfirmation:w});}.bind(this),this.$NotificationListItem16=function(w){var x=this.$NotificationListItem3(),y=w.client_action==='REPORT_BUG',z=w.client_action==='OPEN_IN_INSPECTOR';if(y){var aa=new (c('URI'))('/ajax/bugs/employee_report').setQueryData({client_notifs:JSON.stringify(this.props.getDebugData()),notif_alert_id:x});c('AsyncDialog').bootstrap(aa.toString(),null,'dialog');}else if(z){window.open(w.subtext,'_blank');}else{this.setState({sendingFeedback:true,mayUndoHide:true});c('NotificationUserActions').sendNotifOption(x,this.$NotificationListItem21,this.$NotificationListItem12,w.server_action);}}.bind(this),this.$NotificationListItem22=function(w){this.setState({sendingFeedback:true});c('NotificationUserActions').undoNotifOption(this.$NotificationListItem3(),this.$NotificationListItem13,this.$NotificationListItem12,w);}.bind(this),this.$NotificationListItem24=function(w){this.$NotificationListItem1=w;}.bind(this),s;}q.prototype.$NotificationListItem2=function(){'use strict';return c('NotificationListConfig').canMarkUnread||(this.props.enableHubView||false)&&c('NotificationListConfig').canMarkUnreadInHub;};q.prototype.$NotificationListItem3=function(){'use strict';return this.props.notification.alert_id;};q.prototype.$NotificationListItem4=function(r,s){'use strict';var t=this.$NotificationListItem3();if(s&&s.metaKey){window.open(r);}else this.props.onSelected&&this.props.onSelected(t);this.$NotificationListItem5(s);s&&s.preventDefault();};q.prototype.$NotificationListItem8=function(event,r){'use strict';event.preventDefault();c('Bootloader').loadModules(["VideoChannelHandleLink"],function(s){s.openChannel(r.video_channel_id,r.video_channel_caller,r.video_id);var t=new (c('URI'))(this.props.notification.url),u=function v(w){if(w.getQueryData().ref!=='notif_channel')return false;c('PageTransitions').transitionComplete();return true;};c('PageTransitions').registerHandler(u,n);c('PageTransitions').go(new (c('URI'))(t.getPath()).addQueryData('ref','notif_channel'));}.bind(this),'NotificationListItem.react');};q.prototype.$NotificationListItem7=function(event,r){'use strict';event.preventDefault();c('Bootloader').loadModules(["TahoeController"],function(s){var t=c('NotificationUtils').getLinkProps(this.props.notification);s.openFromVideoLink(new (c('URI'))(t.href));}.bind(this),'NotificationListItem.react');};q.prototype.$NotificationListItem5=function(r){'use strict';var s=this.$NotificationListItem3();if(this.props.onRead&&r)this.props.onRead(s);c('NotificationUserActions').markNotificationsAsRead([s],this.props.enableHubView?c('NotificationsSourceView').HUB:null);};q.prototype.$NotificationListItem11=function(){'use strict';var r=this.$NotificationListItem3();c('NotificationUserActions').markNotificationsAsUnread([r],this.props.enableHubView?c('NotificationsSourceView').HUB:null);};q.prototype.$NotificationListItem14=function(){'use strict';return c('React').createElement(c('ReadToggle.react'),{className:"_55m9 _55ma",isRead:!!this.props.isRead,onClick:this.$NotificationListItem10,readLabel:this.$NotificationListItem2()?j._("Mark as Unread"):j._("Read"),unreadLabel:j._("Mark as Read")});};q.prototype.$NotificationListItem15=function(){'use strict';var r=this.props,s=r.onChevronHide,t=r.onChevronShow,u=r.notification,v=u.alert_id,w=u.menu_options,x=u.notif_type,y=u.rendererData,z=false;if(y)z=y.logMenuExposure;return c('React').createElement(c('NotificationListItemChevron.react'),{alert_id:v,className:"_55m9",menu_options:w,notif_type:x,onHide:s,onMenuOptionClick:this.$NotificationListItem16,onShow:t,logMenuExposure:z});};q.prototype.shouldComponentUpdate=function(r,s){'use strict';var t=this.props.enableHubView!==r.enableHubView||this.props.visible!==r.visible||this.props.isRead!==r.isRead||this.props.isSelected!==r.isSelected||this.props.notification.timestamp!==r.notification.timestamp||this.state.showingOptions!==s.showingOptions||this.state.sendingFeedback!==s.sendingFeedback;return t||this.$NotificationListItem17()&&this.props.paused!==r.paused;};q.prototype.componentWillUpdate=function(r){'use strict';if(!this.$NotificationListItem1||!r.isSelected||this.props.isSelected)return;var s=c('ReactDOM').findDOMNode(this.$NotificationListItem1);s&&s.scrollIntoViewIfNeeded&&s.scrollIntoViewIfNeeded(false);};q.prototype.componentWillReceiveProps=function(r){'use strict';if(this.props.paused&&!r.paused&&!this.props.visible&&this.state.mayUndoHide)this.setState({mayUndoHide:false});};q.prototype.componentDidMount=function(){'use strict';if(this.$NotificationListItem18())c('Bootloader').loadModules(["VideoPlayerMetaData"],function(r){r.genVideoData(this.$NotificationListItem19()).done();}.bind(this),'NotificationListItem.react');};q.prototype.componentDidUpdate=function(){'use strict';if(this.props.enableHubView&&this.props.isSelected&&this.$NotificationListItem1){var r=c('ReactDOM').findDOMNode(this.$NotificationListItem1);if(r&&typeof r.focus=='function')r.focus();}};q.prototype.$NotificationListItem20=function(){'use strict';var r=c('ReactDOM').findDOMNode(this);if(!r)return false;var s=c('Parent').bySelector(r,".__tw"),t=s?s.parentNode:null;return t?c('Style').get(t,'display')!=='none':false;};q.prototype.$NotificationListItem19=function(){'use strict';var r=c('NotificationTracking').getEncodedTrackingData(this.props.notification,this.props.row);return r.content_id||null;};q.prototype.$NotificationListItem18=function(){'use strict';if(this.isLiveVideo===null){var r=c('NotificationTracking').getTrackingString(this.props.notification,this.props.row);this.isLiveVideo=r.indexOf('live_video')!==-1;}return !!this.isLiveVideo;};q.prototype.$NotificationListItem17=function(){'use strict';var r=this.props,s=r.notification,t=r.isRead,u=r.rowIndex;if(t)return false;if(!c('RelationshipDelightUtils').shouldHeartNotification(s)){c('RelationshipDelightUtils').maybeExposeDisagg(s);return false;}if(p<0||p>u)p=u;return true;};q.prototype.$NotificationListItem23=function(){'use strict';if(!this.$NotificationListItem17())return null;var r=this.props,s=r.paused,t=r.rowIndex,u=r.notification.alert_id;if(!s)return null;var v=p===t&&!c('NotificationSeenState').isSeen(u)?1:2;c('RelationshipDelightUtils').logNotificationAnimation(u,v,t);return c('React').createElement('div',{className:"_3u5l _3u5m"},c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('RelationshipDelightsActorAnimation.react').__setRef('NotificationListItem.react'),animationPhase:v}));};q.prototype.render=function(){var r;'use strict';if(!this.props.visible&&!this.state.mayUndoHide)return c('React').createElement('li',{className:"_4_62"});var s="_33c"+(c('NotificationListConfig').isWork?' '+"_1rqj":'')+(!this.props.isRead?' '+"jewelItemNew":'')+(this.state.showingOptions?' '+"_4ag":'')+(this.state.sendingFeedback?' '+"_4m8s":'')+(this.$NotificationListItem17()?' '+"_3u5n":'')+(this.props.isSelected?' '+"_u-o":''),t=c('NotificationTracking').getTrackingString(this.props.notification,this.props.row),u=this.props.rowIndex;if(this.state.notifOptionConfirmation)return c('React').createElement('li',{className:s,'data-gt':t,'data-testid':c('NotifTestIDs').NOTIF_LIST_ITEM},c('React').createElement(c('LogicalGridRow.react'),{className:"_dre",rowIndex:u,component:c('React').createElement('div',null)},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:0,component:c('React').createElement('div',null)},c('React').createElement(c('NotificationListItemOptionConfirmation.react'),babelHelpers['extends']({},this.state.notifOptionConfirmation,{onUndoClick:this.$NotificationListItem22,onMenuOptionClick:this.$NotificationListItem16})))));var v=c('React').createElement(c('NotificationListItemContents.react'),babelHelpers['extends']({},this.props,{hideIcon:this.props.enableHubView===true})),w=c('NotificationUtils').getLinkProps(this.props.notification),x=(r=this.props.notification)!=null?(r=r.title)!=null?r.text:r:r,y=null;if(this.props.enableHubView){y=c('React').createElement(c('Link.react'),{ref:this.$NotificationListItem24,href:w.href,'aria-label':x,className:"_33e"+(' '+"_1_0e"),onClick:this.$NotificationListItem4.bind(this,w.href)},v);}else y=c('React').createElement('a',babelHelpers['extends']({},w,{'aria-label':x,className:"_33e"+(' '+"_1_0e"),onClickCapture:this.$NotificationListItem6,onKeyUp:this.$NotificationListItem9}),v,this.$NotificationListItem23());return c('React').createElement('li',{className:s,'data-gt':t,'data-alert-id':this.$NotificationListItem3(),'data-testid':c('NotifTestIDs').NOTIF_LIST_ITEM},c('React').createElement(c('LogicalGridRow.react'),{className:"_dre anchorContainer",rowIndex:u,component:c('React').createElement('div',null)},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:0,component:c('React').createElement('div',null)},y),c('React').createElement('ul',{className:"_55mc"},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:1,component:c('React').createElement('li',{className:"_h_c"})},this.$NotificationListItem14()),c('React').createElement(c('LogicalGridCell.react'),{columnIndex:2,component:c('React').createElement('li',{className:"_h_d"}),disableFocusRecovery:true},this.$NotificationListItem15()))));};f.exports=q;}),null);
__d('NotificationListPropTypes',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i={negativeTracking:h.object,tracking:h.string,notifs:h.object,afterScroll:h.func,enableHubView:h.bool,onChevronShow:h.func,onChevronHide:h.func,onRead:h.func,canFetchMore:h.bool,hiddenState:h.object,readState:h.object,showingChevron:h.bool,paused:h.bool,maxHeight:h.number,shouldScroll:h.bool,notifTab:h.string};f.exports=i;}),null);
__d('NotificationHubExternalSave.react',['cx','fbt','React','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(k){return c('React').createElement('div',{className:"_rrw _2o1n _2pi6"},c('React').createElement(c('XUIGrayText.react'),{size:'large',display:'block',weight:'bold'},i._("External Save")),c('React').createElement(c('XUIGrayText.react'),{display:'block'},i._("The selected save item doesn't have an associated story to preview. The URL has been opened in a separate browser tab.")));}f.exports=j;}),null);
__d('NotificationHubShimmeringStory.react',['cx','React','XUICard.react'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){return c('React').createElement(c('XUICard.react'),{id:'workHubNotifSpinner',className:"_2iwp"},c('React').createElement('div',{className:"_2iwo"},c('React').createElement('div',{className:"_2iwq"},c('React').createElement('div',{className:"_2iwr"}),c('React').createElement('div',{className:"_2iws"}),c('React').createElement('div',{className:"_2iwt"}),c('React').createElement('div',{className:"_2iwu"}),c('React').createElement('div',{className:"_2iwv"}),c('React').createElement('div',{className:"_2iww"}),c('React').createElement('div',{className:"_2iwx"}),c('React').createElement('div',{className:"_2iwy"}),c('React').createElement('div',{className:"_2iwz"}),c('React').createElement('div',{className:"_2iw-"}),c('React').createElement('div',{className:"_2iw_"}),c('React').createElement('div',{className:"_2ix0"}))));}f.exports=i;}),null);
__d('NotificationHubUnsupportedStory.react',['cx','fbt','CurrentUser','React','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(k){var l=c('CurrentUser').isEmployee()&&c('CurrentUser').isWorkUser()?c('React').createElement(c('XUIGrayText.react'),{display:'block'},i._("Engineers who'd very much like to earn your affection are working around the clock to resolve this issue, crying softly to themselves as they contemplate where, oh where, in their childhood they could have gotten it wrong. This will be fixed. It shall be so.")):null;return c('React').createElement('div',{className:"_rrw _2o1n _2pi6"},c('React').createElement(c('XUIGrayText.react'),{size:'large',display:'block',weight:'bold'},i._("Unsupported Story Type")),c('React').createElement(c('XUIGrayText.react'),{display:'block'},i._("There are a few types of notifications which we don't currently handle in Notification Hub. In these cases, we instead open the story for you in a separate browser tab.")),l);}f.exports=j;}),null);
__d("XWorkHubStoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/hub\/story\/",{alert_id:{type:"String"},comment_id:{type:"Int"},encoded_story_token:{type:"String"},id:{type:"Int"},ref:{type:"String"},reply_comment_id:{type:"Int"},story_token:{type:"String"}});}),null);
__d('NotificationHubLoader',['AsyncRequest','NotificationHubExternalSave.react','NotificationHubShimmeringStory.react','NotificationHubUnsupportedStory.react','React','ReactDOM','XWorkHubStoryController','ge'],(function a(b,c,d,e,f,g){'use strict';h.prototype.setStoryElement=function(i){this.$NotificationHubLoader1=i;};h.prototype.emptyPreview=function(){if(this.$NotificationHubLoader1)c('ReactDOM').unmountComponentAtNode(this.$NotificationHubLoader1);};h.prototype.showSpinner=function(){if(!c('ge')('workHubNotifSpinner')&&this.$NotificationHubLoader1)c('ReactDOM').render(c('React').createElement(c('NotificationHubShimmeringStory.react'),null),this.$NotificationHubLoader1);};h.prototype.loadPreview=function(i,j){var k=this.$NotificationHubLoader3(j,/comment_id=(\d+)/),l=this.$NotificationHubLoader3(j,/reply_comment_id=(\d+)/),m=c('XWorkHubStoryController').getURIBuilder().setString('alert_id',i).setInt('comment_id',l?null:k).setInt('reply_comment_id',l).getURI();this.$NotificationHubLoader4(m,j);};h.prototype.$NotificationHubLoader3=function(i,j){var k=i.match(j);return k?Number(k[1]):null;};h.prototype.loadSavedStory=function(i,j){var k=c('XWorkHubStoryController').getURIBuilder().setString('encoded_story_token',i).getURI();this.$NotificationHubLoader4(k,j);};h.prototype.loadContainerlessSavedStory=function(i){window.open(i);c('ReactDOM').render(c('React').createElement(c('NotificationHubExternalSave.react'),null),this.$NotificationHubLoader1);};h.prototype.$NotificationHubLoader4=function(i,j){this.showSpinner();this.$NotificationHubLoader2&&this.$NotificationHubLoader2.abort();this.$NotificationHubLoader2=new (c('AsyncRequest'))(i).setErrorHandler(this.$NotificationHubLoader5.bind(this,j));this.$NotificationHubLoader2.send();};h.prototype.$NotificationHubLoader5=function(i){window.open(i);c('ReactDOM').render(c('React').createElement(c('NotificationHubUnsupportedStory.react'),null),this.$NotificationHubLoader1);};function h(){}f.exports=new h();}),null);
__d('NotificationHubUnsavedChangesWarning',['fbt','Promise','Bootloader','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function k(){return new (c('Promise'))(function(l){c('Bootloader').loadModules(["DialogX","LayerHideOnEscape","PageHooks","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react"],function(m,n,o,p,q,r,s,t){var u=o.runHooks('onbeforeleavehooks');if(!u){l();return;}var v=new m({width:450,addedBehaviors:[n]},c('React').createElement('div',null,c('React').createElement(p,{showCloseButton:false},h._("Leave Story?")),c('React').createElement(q,null,c('React').createElement(t,{shade:'medium',size:'medium'},u)),c('React').createElement(s,null,c('React').createElement(r,{action:'cancel',label:h._("Stay on This Story")}),c('React').createElement(r,{action:'confirm',use:'confirm',label:h._("Leave This Story")}))));v.subscribe('confirm',function(){v.hide();l();});v.show();},'NotificationHubUnsavedChangesWarning');});},j={check:i};f.exports=j;}),null);
__d('WorkplaceHubEvents',[],(function a(b,c,d,e,f,g){var h={NEXT_NOTIFICATION:'WorkplaceHubEvent/nextNotification',PREV_NOTIFICATION:'WorkplaceHubEvent/prevNotification',OPEN_NOTIFICATION:'WorkplaceHubEvent/openNotification',TOGGLE_READ_STATE:'WorkplaceHubEvent/toggleReadState'};f.exports=h;}),null);
__d('NotificationPageList.react',['cx','fbt','Arbiter','ErrorBoundary.react','Event','LoadingIndicator.react','LogicalGrid.react','NavigationMessage','NotificationHubLoader','NotificationHubUnsavedChangesWarning','NotificationListItem.react','NotificationListPropTypes','NotificationsSourceView','NotificationUserActions','NotificationUtils','NotifTestIDs','React','ReactDOM','Run','SubscriptionsHandler','Vector','WorkplaceHubEvents','debounce','getObjectValues','getViewportDimensions','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){'use strict';k.constructor.call(this);this.$NotificationPageList5=function(){this.$NotificationPageList4&&this.$NotificationPageList4.release();}.bind(this);this.$NotificationPageList8=function(){var m=c('ReactDOM').findDOMNode(this.$NotificationPageList3),n=this.$NotificationPageList7();if(this.props.afterScroll)this.props.afterScroll(this.$NotificationPageList6(),m,n);}.bind(this);this.$NotificationPageList15=function(){return c('getObjectValues')(this.props.notifs).map(function(m){return JSON.stringify(m);});}.bind(this);this.selectAndPreviewNotification=function(m){c('NotificationHubUnsavedChangesWarning').check().done(function(){this.onNotificationSelected(m);this.$NotificationPageList16(m);}.bind(this));}.bind(this);this.state={selectedID:null};}l.prototype.$NotificationPageList6=function(){'use strict';if(!this.$NotificationPageList2)return false;var m=c('ReactDOM').findDOMNode(this.$NotificationPageList2);if(!m)return false;var n=c('Vector').getElementPosition(m,'viewport').y;return n<c('Vector').getViewportDimensions().y;};l.prototype.$NotificationPageList7=function(){'use strict';var m=c('getViewportDimensions').withoutScrollbars();return {top:0,bottom:m.height,left:0,right:m.width};};l.prototype.$NotificationPageList9=function(m,n){'use strict';return n.indexOf(m);};l.prototype.$NotificationPageList10=function(m){'use strict';return c('getObjectValues')(this.props.notifs).find(function(n){return n.alert_id==m;});};l.prototype.$NotificationPageList11=function(m){'use strict';var n=this.$NotificationPageList10(m);return n?c('NotificationUtils').getLinkProps(n).href:null;};l.prototype.$NotificationPageList12=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(o){return o.alert_id;}),n=this.state.selectedID?this.$NotificationPageList9(this.state.selectedID,m):Math.max(0,this.$NotificationPageList1);return 0<=n-1?m[n-1]:m[n];};l.prototype.$NotificationPageList13=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(o){return o.alert_id;}),n=this.state.selectedID?this.$NotificationPageList9(this.state.selectedID,m):Math.max(0,this.$NotificationPageList1);return n+1<m.length?m[n+1]:m[n];};l.prototype.componentDidUpdate=function(){'use strict';this.$NotificationPageList8();if(this.props.enableHubView&&!this.state.selectedID){var m=c('getObjectValues')(this.props.notifs).map(function(n){return n.alert_id;});m.length>0&&this.selectAndPreviewNotification(m[0]);}};l.prototype.componentDidMount=function(){'use strict';c('Event').listen(window,'scroll',c('debounce')(this.$NotificationPageList8,200));this.$NotificationPageList8();if(this.props.enableHubView){this.$NotificationPageList4=new (c('SubscriptionsHandler'))();this.$NotificationPageList4.addSubscriptions(c('Run').onLeave(this.$NotificationPageList5),c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,this.$NotificationPageList5),c('Arbiter').subscribe(c('WorkplaceHubEvents').NEXT_NOTIFICATION,function(){this.selectAndPreviewNotification(this.$NotificationPageList13());}.bind(this)),c('Arbiter').subscribe(c('WorkplaceHubEvents').PREV_NOTIFICATION,function(){this.selectAndPreviewNotification(this.$NotificationPageList12());}.bind(this)),c('Arbiter').subscribe(c('WorkplaceHubEvents').OPEN_NOTIFICATION,function(){var m=this.$NotificationPageList11(this.state.selectedID);if(m)window.open(m);}.bind(this)),c('Arbiter').subscribe(c('WorkplaceHubEvents').TOGGLE_READ_STATE,function(){var m=this.$NotificationPageList10(this.state.selectedID);if(m)if(this.props.readState[m.alert_id]&&this.props.enableMarkUnread){c('NotificationUserActions').markNotificationsAsUnread([m.alert_id,c('NotificationsSourceView').HUB]);}else this.$NotificationPageList14(m.alert_id,c('NotificationsSourceView').HUB);}.bind(this)));}};l.prototype.componentWillUnmount=function(){'use strict';this.$NotificationPageList5();};l.prototype.$NotificationPageList16=function(m){'use strict';c('NotificationHubLoader').showSpinner();var n=this.$NotificationPageList11(m)||'#';c('NotificationHubLoader').loadPreview(m,n);setTimeout(function(){if(this.state.selectedID==m&&!this.props.readState[m])this.$NotificationPageList14(m);}.bind(this),1000);};l.prototype.$NotificationPageList14=function(m,n){'use strict';c('NotificationUserActions').markNotificationsAsRead([m],n);if(this.props.onRead)this.props.onRead(m);};l.prototype.onNotificationSelected=function(m){'use strict';var n=c('getObjectValues')(this.props.notifs).map(function(o){return o.alert_id;});this.$NotificationPageList1=this.$NotificationPageList9(m,n);this.setState({selectedID:m});};l.prototype.$NotificationPageList17=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(n){return n.alert_id;});return c('getObjectValues')(this.props.notifs).map(function(n,o){var p=n.alert_id,q=this.$NotificationPageList9(p,m),r=this.props.enableHubView?this.selectAndPreviewNotification:null;return c('React').createElement(c('ErrorBoundary.react'),{key:p},c('React').createElement(c('NotificationListItem.react'),{getDebugData:this.$NotificationPageList15,enableHubView:this.props.enableHubView,enableMarkUnread:this.props.enableMarkUnread,isNotifsPage:true,isRead:this.props.readState[p],isSelected:this.state.selectedID===p,negativeTracking:this.props.negativeTracking,noPhotoPreviews:true,notification:n,onRead:this.props.onRead,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,onSelected:r,paused:this.props.paused,row:q,rowIndex:o,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[p]}));}.bind(this));};l.prototype.render=function(){'use strict';var m=null,n=null,o=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').SEE_ALL_LIST});if(!c('isEmpty')(this.props.notifs)){m=c('React').createElement(c('LogicalGrid.react'),{ref:function(s){return this.$NotificationPageList3=s;}.bind(this),component:o},this.$NotificationPageList17());}else if(!this.props.canFetchMore)m=c('React').createElement('div',{className:"_44_s",'data-testid':c('NotifTestIDs').SEE_ALL_LIST},i._("No new notifications"));if(this.props.canFetchMore)n=c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'large',ref:function(s){return this.$NotificationPageList2=s;}.bind(this),className:"_44_t"});var p=null;if(this.props.upsell){var q=this.props.upsell.module;p=c('React').createElement(q,babelHelpers['extends']({isPage:true},this.props.upsell.props));}var r="_44_u"+(this.props.showingChevron?' '+"_44_v":'');return c('React').createElement('div',{className:r},p,m,n);};l.propTypes=c('NotificationListPropTypes');f.exports=l;}),null);