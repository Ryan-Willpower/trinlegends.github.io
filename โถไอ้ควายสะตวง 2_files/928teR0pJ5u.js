if (self.CavalryLogger) { CavalryLogger.start_js(["K6+kk"]); }

__d('SignalsTabCountColor',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({GREY:null,BLUE:null,YELLOW:null,RED:null});f.exports=h;}),null);
__d('SignalsTab.react',['React','SignalsTabCountColor'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PureComponent,k=c('React').PropTypes;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.prototype.render=function(){return c('React').createElement('div',null,this.props.children);};function l(){h.apply(this,arguments);}l.propTypes={children:k.any,count:k.number,countColor:k.oneOf(Object.keys(c('SignalsTabCountColor'))),maxCountToDisplay:k.number,title:k.node.isRequired};l.defaultProps={countColor:c('SignalsTabCountColor').GREY};f.exports=l;}),null);
__d('SignalsTabGroupHeaderSize',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({MEDIUM:null,LARGE:null});f.exports=h;}),null);
__d('SignalsTabHeader.react',['cx','React','SignalsTabCountColor','SignalsTabGroupHeaderSize','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l=c('React').PureComponent,m=(k={},k[c('SignalsTabCountColor').GREY]="_hvx",k[c('SignalsTabCountColor').BLUE]="_hvy",k[c('SignalsTabCountColor').YELLOW]="_hvz",k[c('SignalsTabCountColor').RED]="_hv-",k);i=babelHelpers.inherits(n,l);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SignalsTabHeader1=function(){this.props.onSelect(this.props.index);}.bind(this),p;}n.prototype.render=function(){var o=this.props,p=o.count,q=o.countColor,r=o.headerSize,s=o.maxCountToDisplay,t=o.selected,u=o.title,v="_1yd7"+(r===c('SignalsTabGroupHeaderSize').LARGE?' '+"_hw0":'')+(t?' '+"_hwa":'')+(!t?' '+"_hwb":''),w=p!=null&&s!=null&&p>s?s+'+':p,x=p==null?null:c('React').createElement('div',{className:c('joinClasses')("_1yd8",m[q])},w),y=this.props.background;return c('React').createElement('div',{className:v,role:'tab',style:{background:y!=null?y:'transparent'},tabIndex:'0',onClick:this.$SignalsTabHeader1},c('React').createElement('div',{className:"_1ydb"},u,x));};f.exports=n;}),null);
__d('SignalsTabGroup.react',['cx','invariant','React','SignalsTabGroupHeaderSize','SignalsTabHeader.react','StickyArea.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Children,m=c('React').PureComponent,n=c('React').PropTypes,o='';j=babelHelpers.inherits(p,m);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.$SignalsTabGroup4=function(){var s=this.$SignalsTabGroup5();if(this.state.selectedIndex!==s)this.setState({selectedIndex:s},function(){return this.$SignalsTabGroup6();}.bind(this));}.bind(this);this.$SignalsTabGroup7=function(s){if(this.state.selectedIndex!==s)this.setState({selectedIndex:s},function(){this.$SignalsTabGroup6();this.$SignalsTabGroup3();}.bind(this));}.bind(this);var r=q.children;r&&r.length>0||i(0);this.$SignalsTabGroup1=r.map(function(s,t){return s.props.path||String(t);});this.state={selectedIndex:this.$SignalsTabGroup2(q)};this.$SignalsTabGroup3(true);}p.prototype.componentWillReceiveProps=function(q){if(q.initiallySelectedIndex!=null&&q.initiallySelectedIndex!=this.state.selectedIndex){var r=this.$SignalsTabGroup2(q);if(this.state.selectedIndex!==r)this.setState({selectedIndex:r},function(){this.$SignalsTabGroup3();}.bind(this));}};p.prototype.componentDidMount=function(){var q=this.props.usePaths;if(q)window.addEventListener('popstate',this.$SignalsTabGroup4);};p.prototype.componentWillUnmount=function(){window.removeEventListener('popstate',this.$SignalsTabGroup4);};p.prototype.$SignalsTabGroup2=function(q){var r=q.children,s=q.initiallySelectedIndex,t=q.usePaths,u=this.$SignalsTabGroup5(),v=t&&u>-1,w=0;if(!v){if(s!=null)w=s;}else w=u;0<=w&&r&&w<r.length||i(0);return w;};p.prototype.$SignalsTabGroup3=function(){var q=arguments.length<=0||arguments[0]===undefined?false:arguments[0],r=this.props.usePaths;if(r){var s=this.state.selectedIndex,t=this.$SignalsTabGroup1,u=this.props.basePath||o,v=document,w=v.location,x=v.title,y=w.search;if(q){history.replaceState(history.state,x,''+u+t[s]+y);}else history.pushState(history.state,x,''+u+t[s]+y);}};p.prototype.$SignalsTabGroup5=function(){var q=this.$SignalsTabGroup1,r=this.props.basePath||o,s=document.location.pathname.replace(''+r,'');return q.indexOf(s);};p.prototype.$SignalsTabGroup6=function(){var q=this.props.onSelectionChanged;if(q!=null)q.bind(this)(this.state.selectedIndex);};p.prototype.getSelectedIndex=function(){return this.state.selectedIndex;};p.prototype.render=function(){var q=l.toArray(this.props.children),r=this.state.selectedIndex,s=this.props,t=s.rightContent,u=s.leftContent,v=s.className,w=s.headerSize,x=[];for(var y=0;y<q.length;y++){var z=q[y],aa=c('React').createElement(c('SignalsTabHeader.react'),{background:z.props.background,count:z.props.count,countColor:z.props.countColor,headerSize:w,index:y,key:'header'+y,maxCountToDisplay:z.props.maxCountToDisplay,selected:y===r,title:z.props.title,onSelect:this.$SignalsTabGroup7});x.push(aa);if(y<q.length-1&&this.props.showSeparator){var ba=c('React').createElement('div',{className:"_58-m",key:'separator'+y});x.push(ba);}}var ca=c('React').createElement('div',{className:"_58-n"+(w===c('SignalsTabGroupHeaderSize').LARGE?' '+"_g_z":'')},u,x,c('React').createElement('div',{className:"_3p80"}),t);if(this.props.useStickHeaders)ca=c('React').createElement(c('StickyArea.react'),{boundToContainer:false,style:{backgroundColor:'white'}},ca);var da=q[r],ea=this.props.maxBodyHeight!=null?{maxHeight:this.props.maxBodyHeight}:null;return c('React').createElement('div',{className:v},ca,c('React').createElement('div',{className:"_58-o",style:ea},da));};p.propTypes={children:n.array,className:n.string,headerSize:n.oneOf(['MEDIUM','LARGE']),initiallySelectedIndex:n.number,leftContent:n.any,maxBodyHeight:n.number,rightContent:n.any,showSeparator:n.bool,usePaths:n.bool,useStickHeaders:n.bool,onSelectionChanged:n.func};p.defaultProps={headerSize:c('SignalsTabGroupHeaderSize').MEDIUM,showSeparator:true,useStickHeaders:false};f.exports=p;}),null);
__d('FeedPersonalTaskOption',['Arbiter'],(function a(b,c,d,e,f,g){'use strict';var h={ADD_TASK:'add_task',COMPLETE_TASK:'complete_task',init:function i(j,k){j.addEventListener('click',function(){c('Arbiter').inform(this.ADD_TASK,k);}.bind(this));},complete:function i(j,k){j.addEventListener('click',function(){c('Arbiter').inform(this.COMPLETE_TASK,{postID:k});}.bind(this));}};f.exports=h;}),null);
__d('WorkPersonalTask.react',['ix','cx','FBCheckbox.react','Image.react','Layout.react','Link.react','React','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;o.prototype.render=function(){var p=this.props.postPermalink?c('React').createElement(c('Image.react'),{className:"_2af1",src:h("117026")}):null,q=this.props.postPermalink?c('React').createElement(c('Link.react'),{href:this.props.postPermalink},this.props.name):c('React').createElement('span',null,this.props.name);return c('React').createElement(c('Layout.react'),{key:this.props.id,className:"_sbt"+(this.props.isCompleted?' '+"_sc3":'')+(' '+"_181r")},c('React').createElement(l,null,c('React').createElement(c('FBCheckbox.react'),{className:"_dom"+(this.props.isCompleted?' '+"_181s":''),checked:this.props.isCompleted,onToggle:function(r){return this.props.onChange({isCompleted:r});}.bind(this)})),c('React').createElement(m,{className:"_181t"},p,c('React').createElement(c('XUIText.react'),{display:'block',className:"_42_o"+(this.props.postPermalink?' '+"_181u":''),onKeyDown:function r(s){if(s.key==='Enter')s.preventDefault();},onKeyUp:function r(s){if(s.key==='Enter')s.target.blur();},onBlur:function(r){this.props.onChange({name:r.target.textContent});}.bind(this),contentEditable:!this.props.postPermalink},q)),c('React').createElement(l,{className:"_181v"},c('React').createElement(c('Link.react'),{className:"_sbu",onClick:this.props.onDelete},c('React').createElement(c('Image.react'),{src:h("126888")}))));};function o(){j.apply(this,arguments);}o.propTypes={creationTime:n.number.isRequired,id:n.string,isCompleted:n.bool.isRequired,name:n.string.isRequired,onChange:n.func.isRequired,onDelete:n.func.isRequired,postPermalink:n.string};f.exports=o;}),null);
__d('WorkTaskWidgetDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:true});}),null);
__d("XWorkCompletePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/complete\/",{});}),null);
__d("XWorkCreatePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/create\/",{title:{type:"String",required:true},post_id:{type:"FBID"}});}),null);
__d("XWorkDeletePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/delete\/",{id:{type:"FBID",required:true}});}),null);
__d("XWorkPersonalTasksAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_tasks\/",{});}),null);
__d("XWorkUpdatePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/update\/",{});}),null);
__d('WorkPersonalTasksActions',['AsyncRequest','WorkTaskWidgetDispatcher','XWorkCompletePersonalTaskAsyncController','XWorkCreatePersonalTaskAsyncController','XWorkDeletePersonalTaskAsyncController','XWorkPersonalTasksAsyncController','XWorkUpdatePersonalTaskAsyncController'],(function a(b,c,d,e,f,g){'use strict';f.exports={addTask:function h(i,j){i=i.trim();if(!i)return;var k={name:i,isCompleted:false,creationTime:Date.now()};c('WorkTaskWidgetDispatcher').dispatch({type:'personal_task_add',payload:{task:k}});var l=c('XWorkCreatePersonalTaskAsyncController').getURIBuilder().setString('title',i);if(j)l.setFBID('post_id',j);new (c('AsyncRequest'))().setURI(l.getURI()).setMethod('POST').setHandler(function(m){c('WorkTaskWidgetDispatcher').dispatch({type:'personal_task_added',payload:{task:m.payload,originalTask:k}});}).setErrorHandler(function(m){c('WorkTaskWidgetDispatcher').dispatch({type:'personal_task_error',payload:{action:'personal_task_add',task:k}});}).send();},deleteTask:function h(i){var j=i.id;if(!j)return;c('WorkTaskWidgetDispatcher').dispatch({type:'personal_task_delete',payload:{id:j}});var k=c('XWorkDeletePersonalTaskAsyncController').getURIBuilder().setFBID('id',j).getURI();new (c('AsyncRequest'))().setURI(k).setMethod('POST').setErrorHandler(function(){c('WorkTaskWidgetDispatcher').dispatch({type:'personal_task_error',payload:{action:'personal_task_delete',task:i}});}).send();},editTask:function h(i,j){var k=i.id;if(!k)return;var l=Object.assign({},i,j);c('WorkTaskWidgetDispatcher').dispatch({type:'personal_task_edit',payload:{id:k,properties:j}});var m=c('XWorkUpdatePersonalTaskAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(m).setMethod('POST').setData({completed:l.isCompleted,id:l.id,title:l.name}).setErrorHandler(function(){c('WorkTaskWidgetDispatcher').dispatch({type:'personal_task_error',payload:{action:'personal_task_edit',task:i}});}).send();},completeTaskFromPost:function h(i){var j=c('XWorkCompletePersonalTaskAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setMethod('POST').setData({post_id:i}).setHandler(function(k){c('WorkTaskWidgetDispatcher').dispatch({type:'personal_tasks_completed',payload:{taskIDs:k.payload}});}).send();},loadTasks:function h(){var i=c('XWorkPersonalTasksAsyncController').getURIBuilder().getURI();c('WorkTaskWidgetDispatcher').dispatch({type:'personal_tasks_load'});new (c('AsyncRequest'))().setURI(i).setHandler(function(j){c('WorkTaskWidgetDispatcher').dispatch({type:'personal_tasks_loaded',payload:{tasks:j.payload}});}).setErrorHandler(function(){c('WorkTaskWidgetDispatcher').dispatch({type:'personal_task_error',payload:{action:'personal_tasks_load'}});}).send();},userAddingTask:function h(i){c('WorkTaskWidgetDispatcher').dispatch({type:'personal_task_user_adding',payload:{title:i}});}};}),null);
__d('WorkPersonalTasksInput.react',['ix','cx','fbt','Image.react','React','Tooltip.react','XUITextInput.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;n.prototype.render=function(){return c('React').createElement('div',{className:"_4ol6"},c('React').createElement(c('Image.react'),{className:"_40vj",src:h("125020"),onClick:function(){return this.props.onSubmit(this.props.value);}.bind(this)}),c('React').createElement(c('XUITextInput.react'),{className:"_40vk",height:'tall',value:this.props.value,placeholder:j._("Add a personal task"),onChange:function(event){return this.props.onChange(event.target.value);}.bind(this),onKeyUp:function(event){if(event.key==='Enter')this.props.onSubmit(event.target.value);}.bind(this)}),c('React').createElement(c('Tooltip.react'),{tooltip:j._("Personal tasks are like to dos")},c('React').createElement(c('Image.react'),{src:h("124739")})));};function n(){k.apply(this,arguments);}n.propTypes={onChange:m.func.isRequired,onSubmit:m.func.isRequired,value:m.string.isRequired};f.exports=n;}),null);
__d('WorkPersonalTasksPlaceholder.react',['cx','fbt','React','XUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement('div',{className:"_sbr"},c('React').createElement(c('XUIText.react'),{size:'xlarge',display:'block'},i._("Add posts to your to-do lists")),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block',className:"_181w _3-8w"},i._("Pop any post in your personal tasks, ready to follow-up later.")));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('WorkPersonalTasksStore',['FluxReduceStore','immutable','WorkTaskWidgetDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;h=babelHelpers.inherits(l,c('immutable').Record({newTaskTitle:'',tasks:c('immutable').OrderedSet()}));i=h&&h.prototype;function l(){h.apply(this,arguments);}j=babelHelpers.inherits(m,c('FluxReduceStore'));k=j&&j.prototype;m.prototype.getInitialState=function(){return new l();};m.prototype.reduce=function(n,o){switch(o.type){case 'personal_task_add':return this.$WorkPersonalTasksStore1(n,o);case 'personal_task_added':return this.$WorkPersonalTasksStore2(n,o);case 'personal_task_delete':return this.$WorkPersonalTasksStore3(n,o);case 'personal_tasks_completed':return this.$WorkPersonalTasksStore4(n,o);case 'personal_task_edit':return this.$WorkPersonalTasksStore5(n,o);case 'personal_task_error':return this.$WorkPersonalTasksStore6(n,o);case 'personal_tasks_loaded':return this.$WorkPersonalTasksStore7(n,o);case 'personal_task_user_adding':return this.$WorkPersonalTasksStore8(n,o);default:return n;}};m.prototype.getTaskByID=function(n){return this.getState().tasks.find(function(o){return o.id===n;});};m.prototype.$WorkPersonalTasksStore1=function(n,o){var p=n.tasks.add(o.payload.task).sortBy(function(q){return q.creationTime*-1;});return n.set('newTaskTitle','').set('tasks',p);};m.prototype.$WorkPersonalTasksStore2=function(n,o){var p=n.tasks.map(function(q){return q===o.payload.originalTask?o.payload.task:q;});return n.set('newTaskTitle',n.newTaskTitle).set('tasks',p);};m.prototype.$WorkPersonalTasksStore4=function(n,o){var p=n.tasks.map(function(q){var r=q.id;if(!r)return q;var s=o.payload.taskIDs.indexOf(r)>-1;if(!s)return q;q.isCompleted=true;return q;});return n.set('tasks',p);};m.prototype.$WorkPersonalTasksStore5=function(n,o){var p=n.tasks.find(function(s){return s.id===o.payload.id;}),q=Object.assign({},p,o.payload.properties),r=n.tasks.map(function(s){return s.id===q.id?q:s;});return n.set('tasks',r);};m.prototype.$WorkPersonalTasksStore3=function(n,o){var p=n.tasks.filter(function(q){return q.id!==o.payload.id;});return n.set('tasks',p);};m.prototype.$WorkPersonalTasksStore6=function(n,o){var p=void 0;switch(o.payload.action){case 'add_personal_task':p=n.tasks['delete'](o.payload.task);break;case 'delete_personal_task':p=n.tasks.add(o.payload.task);break;case 'edit_personal_task':var q=o.payload.task;p=n.tasks.map(function(r){return r.id===q.id?q:r;});break;default:p=n.tasks;}return n.set('tasks',p);};m.prototype.$WorkPersonalTasksStore7=function(n,o){var p=c('immutable').OrderedSet(o.payload.tasks).sortBy(function(q){return q.creationTime*-1;});return n.set('newTaskTitle',n.newTaskTitle).set('tasks',p);};m.prototype.$WorkPersonalTasksStore8=function(n,o){return n.set('newTaskTitle',o.payload.title);};function m(){j.apply(this,arguments);}f.exports=new m(c('WorkTaskWidgetDispatcher'));}),null);
__d('WorkTask.react',['cx','FBCheckbox.react','Layout.react','Link.react','React','WorkTaskPriority','XUIText.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l=c('Layout.react').Column,m=c('React').PropTypes,n=(k={},k[c('WorkTaskPriority').UNKNOWN]='None',k[c('WorkTaskPriority').UNBREAK_NOW]='Ubr!',k[c('WorkTaskPriority').HIGH]='High',k[c('WorkTaskPriority').MID]='Mid',k[c('WorkTaskPriority').LOW]='Low',k[c('WorkTaskPriority').WISHLIST]='Wish',k);i=babelHelpers.inherits(o,c('React').PureComponent);j=i&&i.prototype;o.prototype.$WorkTask1=function(p){if(typeof this.props.priority==='number'){return n[this.props.priority];}else return n[c('WorkTaskPriority').UNKNOWN];};o.prototype.render=function(){return c('React').createElement(c('Layout.react'),{key:this.props.id,className:"_sbt _dok"},c('React').createElement(l,null,c('React').createElement(c('FBCheckbox.react'),{className:"_dom",checked:this.props.isCompleted||false,onToggle:function(p){return this.props.onChange({isCompleted:p});}.bind(this)})),c('React').createElement(l,{className:"_181t"},c('React').createElement(c('XUIText.react'),{display:'block',className:"_42_o"+(' '+"_181u")+(this.props.isCompleted?' '+"_sc3":'')},c('React').createElement(c('Link.react'),{href:this.props.uri,target:'_blank'},this.props.title))),c('React').createElement(l,{className:"_20gw"+(this.props.priority===null||this.props.priority===c('WorkTaskPriority').UNKNOWN?' '+"_20gx":'')+(this.props.priority===c('WorkTaskPriority').UNBREAK_NOW?' '+"_20g-":'')+(this.props.priority===c('WorkTaskPriority').HIGH?' '+"_20g_":'')+(this.props.priority===c('WorkTaskPriority').MID?' '+"_20h1":'')+(this.props.priority===c('WorkTaskPriority').LOW?' '+"_20h3":'')+(this.props.priority===c('WorkTaskPriority').WISHLIST?' '+"_20h4":'')},this.$WorkTask1(this.props.priority)));};function o(){i.apply(this,arguments);}o.propTypes={id:m.string.isRequired,isCompleted:m.bool,lastUpdated:m.number.isRequired,onChange:m.func.isRequired,title:m.string.isRequired,uri:m.string.isRequired,priority:m.number};f.exports=o;}),null);
__d("XWorkTaskWidgetEnableConfigAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/task_widget\/enable_config\/",{});}),null);
__d('WorkTaskWidgetEnableConfigActions',['AsyncRequest','WorkTaskWidgetDispatcher','XWorkTaskWidgetEnableConfigAsyncController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.loadEnableConfig=function(){c('WorkTaskWidgetDispatcher').dispatch({type:'enable_config_load'});var i=c('XWorkTaskWidgetEnableConfigAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(i).setHandler(function(j){var k=j.payload?{name:j.payload.name,type:j.payload.type,imageSmall:j.payload.image_small,imageLarge:j.payload.image_large,loginUrl:j.payload.login_url}:null;c('WorkTaskWidgetDispatcher').dispatch({type:'enable_config_loaded',payload:k});}).setErrorHandler(function(j){c('WorkTaskWidgetDispatcher').dispatch({type:'enable_config_error',payload:{action:'enable_config_load'}});}).send();};function h(){}f.exports=new h();}),null);
__d('WorkTaskWidgetEnableConfigStore',['FluxReduceStore','immutable','WorkTaskWidgetDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;h=babelHelpers.inherits(l,c('immutable').Record({}));i=h&&h.prototype;function l(){h.apply(this,arguments);}j=babelHelpers.inherits(m,c('FluxReduceStore'));k=j&&j.prototype;m.prototype.getInitialState=function(){return null;};m.prototype.reduce=function(n,o){switch(o.type){case 'enable_config_loaded':return this.$WorkTaskWidgetEnableConfigStore1(n,o);default:return n;}};m.prototype.$WorkTaskWidgetEnableConfigStore1=function(n,o){if(!o.payload)return n;return new (Function.prototype.bind.apply(l,[null].concat(o.payload)))();};function m(){j.apply(this,arguments);}f.exports=new m(c('WorkTaskWidgetDispatcher'));}),null);
__d('WorkTaskWidgetErrorActions',['WorkTaskWidgetDispatcher'],(function a(b,c,d,e,f,g){'use strict';f.exports={errorShown:function h(){c('WorkTaskWidgetDispatcher').dispatch({type:'error_shown'});}};}),null);
__d('WorkTaskWidgetErrorDialog.react',['fbt','React','XUIDialog.react','XUIDialogBody.react','XUIDialogCloseButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUINotice.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{shown:true,width:400},c('React').createElement(c('XUIDialogTitle.react'),null,h._("Error")),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('XUINotice.react'),{use:'warn'},this.props.error)),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCloseButton.react'),{onClick:this.props.onClose})));};function l(){i.apply(this,arguments);}l.propTypes={error:k.string.isRequired,onClose:k.func.isRequired};f.exports=l;}),null);
__d('WorkTaskWidgetErrorStore',['FluxReduceStore','immutable','WorkTaskWidgetDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;h=babelHelpers.inherits(l,c('immutable').Record({error:null}));i=h&&h.prototype;function l(){h.apply(this,arguments);}j=babelHelpers.inherits(m,c('FluxReduceStore'));k=j&&j.prototype;m.prototype.getInitialState=function(){return new l();};m.prototype.reduce=function(n,o){switch(o.type){case 'personal_task_error':return this.$WorkTaskWidgetErrorStore1(n,o);case 'error_shown':return this.$WorkTaskWidgetErrorStore2(n,o);default:return n;}};m.prototype.$WorkTaskWidgetErrorStore1=function(n,o){return n.set('error',o.payload);};m.prototype.$WorkTaskWidgetErrorStore2=function(n,o){return n.set('error',null);};function m(){j.apply(this,arguments);}f.exports=new m(c('WorkTaskWidgetDispatcher'));}),null);
__d("WorkTaskWidgetPreference",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PERSONAL_TASKS:"personal_tasks",TASKS:"tasks"});}),null);
__d('WorkTaskWidgetSettingsStore',['FluxReduceStore','immutable','WorkTaskWidgetDispatcher','WorkTaskWidgetPreference'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;h=babelHelpers.inherits(l,c('immutable').Record({isCollapsed:false,openTab:c('WorkTaskWidgetPreference').PERSONAL_TASKS}));i=h&&h.prototype;function l(){h.apply(this,arguments);}j=babelHelpers.inherits(m,c('FluxReduceStore'));k=j&&j.prototype;m.prototype.getInitialState=function(){return new l();};m.prototype.reduce=function(n,o){switch(o.type){case 'settings_error':return this.$WorkTaskWidgetSettingsStore1(n,o);case 'settings_loaded':return this.$WorkTaskWidgetSettingsStore2(n,o);case 'settings_save':return this.$WorkTaskWidgetSettingsStore3(n,o);default:return n;}};m.prototype.$WorkTaskWidgetSettingsStore2=function(n,o){return new (Function.prototype.bind.apply(l,[null].concat(o.payload)))();};m.prototype.$WorkTaskWidgetSettingsStore3=function(n,o){return new (Function.prototype.bind.apply(l,[null].concat(o.payload)))();};m.prototype.$WorkTaskWidgetSettingsStore1=function(n,o){return new (Function.prototype.bind.apply(l,[null].concat(o.payload.settings)))();};function m(){j.apply(this,arguments);}f.exports=new m(c('WorkTaskWidgetDispatcher'));}),null);
__d("XWorkTaskWidgetSaveSettingsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/task_widget\/settings\/save\/",{});}),null);
__d('WorkTaskWidgetSettingsActions',['AsyncRequest','WorkTaskWidgetDispatcher','WorkTaskWidgetSettingsStore','XWorkTaskWidgetSaveSettingsAsyncController'],(function a(b,c,d,e,f,g){'use strict';f.exports={loadSettings:function h(i){c('WorkTaskWidgetDispatcher').dispatch({type:'settings_loaded',payload:i});},saveSettings:function h(i){var j=c('WorkTaskWidgetSettingsStore').getState().toJS(),k=Object.assign({},j,i);c('WorkTaskWidgetDispatcher').dispatch({type:'settings_save',payload:k});var l=c('XWorkTaskWidgetSaveSettingsAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).setMethod('POST').setData({is_collapsed:k.isCollapsed,tab:k.openTab}).setErrorHandler(function(){c('WorkTaskWidgetDispatcher').dispatch({type:'settings_error',payload:{action:'settings_save',settings:j}});}).send();}};}),null);
__d('WorkTasksStore',['FluxReduceStore','immutable','WorkTaskWidgetDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;h=babelHelpers.inherits(l,c('immutable').Record({allowTaskCreation:false,appName:'',config:null,error:false,isActive:false,newTaskTitle:'',tasks:c('immutable').OrderedSet()}));i=h&&h.prototype;function l(){h.apply(this,arguments);}j=babelHelpers.inherits(m,c('FluxReduceStore'));k=j&&j.prototype;m.prototype.getInitialState=function(){return new l();};m.prototype.reduce=function(n,o){switch(o.type){case 'task_add':return this.$WorkTasksStore1(n,o);case 'task_added':return this.$WorkTasksStore2(n,o);case 'task_edit':return this.$WorkTasksStore3(n,o);case 'task_error':return this.$WorkTasksStore4(n,o);case 'tasks_loaded':return this.$WorkTasksStore5(n,o);case 'task_user_adding':return this.$WorkTasksStore6(n,o);default:return n;}};m.prototype.getTaskByID=function(n){return this.getState().tasks.find(function(o){return o.id===n;});};m.prototype.$WorkTasksStore1=function(n,o){var p=c('immutable').OrderedSet([o.payload.task]);return n.set('newTaskTitle','').set('tasks',p.concat(n.tasks));};m.prototype.$WorkTasksStore2=function(n,o){var p=n.tasks.map(function(q){return q===o.payload.originalTask?o.payload.task:q;});return n.set('newTaskTitle',n.newTaskTitle).set('tasks',p);};m.prototype.$WorkTasksStore3=function(n,o){var p=n.tasks.find(function(s){return s.id===o.payload.id;}),q=Object.assign({},p,o.payload.properties),r=n.tasks.map(function(s){return s.id===q.id?q:s;});return n.set('tasks',r);};m.prototype.$WorkTasksStore5=function(n,o){var p=o.payload;if(!p)return n.set('isActive',false);return n.set('allowTaskCreation',p.allowTaskCreation).set('appName',p.appName).set('isActive',true).set('error',p.error).set('tasks',c('immutable').OrderedSet(p.tasks));};m.prototype.$WorkTasksStore6=function(n,o){return n.set('newTaskTitle',o.payload.title);};m.prototype.$WorkTasksStore4=function(n,o){var p=void 0;switch(o.payload.action){case 'task_add':p=n.tasks['delete'](o.payload.task);break;case 'task_edit':var q=o.payload.task;p=n.tasks.map(function(r){return r.id===q.id?q:r;});break;default:p=n.tasks;}return n.set('tasks',p);};function m(){j.apply(this,arguments);}f.exports=new m(c('WorkTaskWidgetDispatcher'));}),null);
__d("XWorkCreateTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/create\/",{title:{type:"String",required:true}});}),null);
__d("XWorkTasksDataAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/",{});}),null);
__d("XWorkUpdateTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/update\/",{task_id:{type:"String",required:true},completed:{type:"Bool",defaultValue:false}});}),null);
__d('WorkTasksActions',['AsyncRequest','WorkTaskPriority','WorkTasksStore','WorkTaskWidgetDispatcher','XWorkCreateTaskAsyncController','XWorkTasksDataAsyncController','XWorkUpdateTaskAsyncController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.addTask=function(i,j){i=i.trim();if(!i)return;var k={id:'-1',isCompleted:false,lastUpdated:Date.now(),title:i,uri:'#',priority:c('WorkTaskPriority').UNKNOWN};c('WorkTaskWidgetDispatcher').dispatch({type:'task_add',payload:{task:k}});var l=c('XWorkCreateTaskAsyncController').getURIBuilder().setString('title',i).getURI();new (c('AsyncRequest'))().setURI(l).setMethod('POST').setHandler(function(m){c('WorkTaskWidgetDispatcher').dispatch({type:'task_added',payload:{task:m.payload,originalTask:k}});}).setErrorHandler(function(m){c('WorkTaskWidgetDispatcher').dispatch({type:'task_error',payload:{action:'task_add',task:k}});}).send();};h.prototype.editTask=function(i,j){var k=c('WorkTasksStore').getTaskByID(i),l=Object.assign({},k,j);c('WorkTaskWidgetDispatcher').dispatch({type:'task_edit',payload:{id:i,properties:j}});var m=c('XWorkUpdateTaskAsyncController').getURIBuilder().setString('task_id',l.id).setBool('completed',l.isCompleted).getURI();new (c('AsyncRequest'))().setURI(m).setErrorHandler(function(){c('WorkTaskWidgetDispatcher').dispatch({type:'task_error',payload:{action:'task_edit',task:k}});}).send();};h.prototype.loadTasks=function(){c('WorkTaskWidgetDispatcher').dispatch({type:'tasks_load'});var i=c('XWorkTasksDataAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(i).setHandler(function(j){var k=j.payload?{allowTaskCreation:j.payload.allow_task_creation,appName:j.payload.app_name,tasks:j.payload.tasks,error:j.payload.error}:null;c('WorkTaskWidgetDispatcher').dispatch({type:'tasks_loaded',payload:k});}).setErrorHandler(function(){c('WorkTaskWidgetDispatcher').dispatch({type:'task_error',payload:{action:'tasks_load'}});}).send();};h.prototype.userAddingTask=function(i){c('WorkTaskWidgetDispatcher').dispatch({type:'task_user_adding',payload:{title:i}});};function h(){}f.exports=new h();}),null);
__d('WorkTasksErrorPlaceholder.react',['ix','cx','fbt','Image.react','React','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').PureComponent);l=k&&k.prototype;m.prototype.render=function(){return c('React').createElement('div',{className:"_sbr"},c('React').createElement(c('Image.react'),{src:h("117758")}),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block',className:"_181w _3-8w"},j._("An error occured when fetching your tasks. Please try again later.")));};function m(){k.apply(this,arguments);}f.exports=m;}),null);
__d('WorkTasksInput.react',['ix','cx','fbt','Image.react','React','Tooltip.react','XUITextInput.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;n.prototype.render=function(){return c('React').createElement('div',{className:"_4ol6"},c('React').createElement(c('Image.react'),{className:"_40vj",src:h("125020"),onClick:function(){return this.props.onSubmit(this.props.value);}.bind(this)}),c('React').createElement(c('XUITextInput.react'),{className:"_40vk",disabled:this.props.isDisabled,height:'tall',value:this.props.value,placeholder:j._("Add a {task provider name} task",[j.param('task provider name',this.props.appIntegrationName)]),onChange:function(event){return this.props.onChange(event.target.value);}.bind(this),onKeyUp:function(event){if(event.key==='Enter')this.props.onSubmit(event.target.value);}.bind(this)}),c('React').createElement(c('Tooltip.react'),{display:'block',tooltip:j._("Quickly create self-assigned tasks")},c('React').createElement(c('Image.react'),{src:h("124739")})));};function n(){k.apply(this,arguments);}n.propTypes={appIntegrationName:m.string.isRequired,isDisabled:m.bool.isRequired,onChange:m.func.isRequired,onSubmit:m.func.isRequired,value:m.string.isRequired};f.exports=n;}),null);
__d('WorkTasksPlaceholder.react',['cx','fbt','React','XUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement('div',{className:"_sbr"},c('React').createElement(c('XUIText.react'),{size:'xlarge',display:'block'},i._("Lucky you!")),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block',className:"_181w _3-8w"},i._("Your task list is empty.")));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('RHCWorkTasksPagelet.react',['ix','cx','fbt','Arbiter','AsyncRequest','FeedPersonalTaskOption','FluxContainer','Image.react','Popup','React','ScrollableArea.react','SignalsTab.react','SignalsTabGroup.react','WorkPersonalTask.react','WorkPersonalTasksActions','WorkPersonalTasksInput.react','WorkPersonalTasksPlaceholder.react','WorkPersonalTasksStore','WorkTask.react','WorkTasksActions','WorkTasksErrorPlaceholder.react','WorkTasksInput.react','WorkTasksPlaceholder.react','WorkTasksStore','WorkTaskWidgetDispatcher','WorkTaskWidgetEnableConfigActions','WorkTaskWidgetEnableConfigStore','WorkTaskWidgetErrorActions','WorkTaskWidgetErrorDialog.react','WorkTaskWidgetErrorStore','WorkTaskWidgetPreference','WorkTaskWidgetSettingsActions','WorkTaskWidgetSettingsStore','XUIButton.react','XUICard.react','XUIText.react','XWorkInstallContentAppOnUserController','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=30;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$RHCWorkTasksPagelet1=null,this.$RHCWorkTasksPagelet2=null,p;}n.getStores=function(){return [c('WorkPersonalTasksStore'),c('WorkTasksStore'),c('WorkTaskWidgetEnableConfigStore'),c('WorkTaskWidgetErrorStore'),c('WorkTaskWidgetSettingsStore')];};n.calculateState=function(){var o=c('WorkTaskWidgetEnableConfigStore').getState(),p=c('WorkPersonalTasksStore').getState(),q=c('WorkTasksStore').getState(),r=c('WorkTaskWidgetSettingsStore').getState(),s=c('WorkTaskWidgetErrorStore').getState(),t={allowTaskCreation:q.allowTaskCreation,appName:q.appName,enableConfig:o?o.toJS():o,error:s.error,isAppActive:q.isActive,appError:q.error,newPersonalTaskTitle:p.newTaskTitle,newTaskTitle:q.newTaskTitle,personalTasks:p.tasks.toArray(),settings:r.toJS(),tasks:q.tasks.toArray()};return t;};n.prototype.componentDidMount=function(){c('WorkTaskWidgetDispatcher').explicitlyRegisterStores(n.getStores());c('WorkPersonalTasksActions').loadTasks();c('WorkTasksActions').loadTasks();c('WorkTaskWidgetEnableConfigActions').loadEnableConfig();c('WorkTaskWidgetSettingsActions').loadSettings(this.props.settings);this.$RHCWorkTasksPagelet1=c('Arbiter').subscribe(c('FeedPersonalTaskOption').ADD_TASK,function(o,p){c('WorkPersonalTasksActions').addTask(p.name,p.postID);});this.$RHCWorkTasksPagelet2=c('Arbiter').subscribe(c('FeedPersonalTaskOption').COMPLETE_TASK,function(o,p){c('WorkPersonalTasksActions').completeTaskFromPost(p.postID);});};n.prototype.componentWillUnmount=function(){c('Arbiter').unsubscribe(this.$RHCWorkTasksPagelet1);c('Arbiter').unsubscribe(this.$RHCWorkTasksPagelet2);};n.prototype.render=function(){if(this.state.settings.isCollapsed)return c('React').createElement(c('XUICard.react'),null,this.$RHCWorkTasksPagelet3());var o=[this.$RHCWorkTasksPagelet4(),this.$RHCWorkTasksPagelet5(),this.$RHCWorkTasksPagelet6()],p=this.$RHCWorkTasksPagelet7(o);return c('React').createElement(c('XUICard.react'),null,this.$RHCWorkTasksPagelet3(),this.$RHCWorkTasksPagelet8(),p);};n.prototype.$RHCWorkTasksPagelet3=function(){var o=this.state.settings.isCollapsed?h("126907"):h("126919");return c('React').createElement('div',{className:"_3awo"},c('React').createElement('div',{className:"_42_j"},j._("Tasks")),c('React').createElement(c('Image.react'),{className:"_3ja8",src:o,onClick:function(){return c('WorkTaskWidgetSettingsActions').saveSettings({isCollapsed:!this.state.settings.isCollapsed});}.bind(this)}));};n.prototype.$RHCWorkTasksPagelet7=function(o){var p=o.filter(Boolean);if(p.length===0){return null;}else if(p.length===1)return p[0].content;var q=p.map(function(r,s){var t={};if(r.count&&r.count>0)t.count=r.count;return c('React').createElement(c('SignalsTab.react'),babelHelpers['extends']({key:'tab'+s,title:r.title},t),r.content);});return c('React').createElement(c('SignalsTabGroup.react'),{className:"_sbo",showSeparator:false,initiallySelectedIndex:this.$RHCWorkTasksPagelet9(this.state.settings.openTab),onSelectionChanged:function(r){return c('WorkTaskWidgetSettingsActions').saveSettings({openTab:this.$RHCWorkTasksPagelet10(r)});}.bind(this)},q);};n.prototype.$RHCWorkTasksPagelet10=function(o){return o===1?c('WorkTaskWidgetPreference').TASKS:c('WorkTaskWidgetPreference').PERSONAL_TASKS;};n.prototype.$RHCWorkTasksPagelet9=function(o){return Number(o===c('WorkTaskWidgetPreference').TASKS);};n.prototype.$RHCWorkTasksPagelet4=function(){var o=this.state.personalTasks;if(!o)return null;var p=o.length===0?c('React').createElement(c('WorkPersonalTasksPlaceholder.react'),null):c('React').createElement(c('ScrollableArea.react'),{className:"_3-8x",height:200},o.map(function(q){return c('React').createElement(c('WorkPersonalTask.react'),babelHelpers['extends']({key:q.id?q.id:q.name,onChange:function r(s){return c('WorkPersonalTasksActions').editTask(q,s);},onDelete:function r(){return c('WorkPersonalTasksActions').deleteTask(q);}},q));}));return {title:j._("Personal"),count:o.length,content:c('React').createElement('div',{className:"_4ol5"},c('React').createElement(c('WorkPersonalTasksInput.react'),{onChange:function q(r){return c('WorkPersonalTasksActions').userAddingTask(r);},onSubmit:function q(r){return c('WorkPersonalTasksActions').addTask(r);},value:this.state.newPersonalTaskTitle}),p)};};n.prototype.$RHCWorkTasksPagelet5=function(){if(!this.state.isAppActive)return null;var o=null;if(this.state.appError){o=c('React').createElement(c('WorkTasksErrorPlaceholder.react'),null);}else if(this.state.tasks.length===0){o=c('React').createElement(c('WorkTasksPlaceholder.react'),null);}else o=c('React').createElement(c('ScrollableArea.react'),{className:"_3-8x",height:200},this.state.tasks.map(function(p){return c('React').createElement(c('WorkTask.react'),babelHelpers['extends']({key:p.id,onChange:function q(r){return c('WorkTasksActions').editTask(p.id,r);}},p));}));return {title:this.state.appName,count:this.state.tasks.length,content:c('React').createElement('div',{className:"_4ol5"},this.$RHCWorkTasksPagelet11(),o)};};n.prototype.$RHCWorkTasksPagelet6=function(){var o=this.state.enableConfig;if(!o||!o.name)return null;return {title:o.name,content:c('React').createElement('div',{className:"_sbr"},c('React').createElement('div',{className:"_1zzc _3-94"},c('React').createElement(c('Image.react'),{src:o.imageLarge}),c('React').createElement(c('XUIText.react'),{size:'large',weight:'bold',className:"_3-99"},o.name)),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block'},j._("Link your account to {provider} in order to see your most recent tasks here.",[j.param('provider',o.name)])),c('React').createElement(c('XUIButton.react'),{className:"_3-8w",label:j._("Enable"),size:'large',onClick:function(){return this.$RHCWorkTasksPagelet12(o);}.bind(this)}))};};n.prototype.$RHCWorkTasksPagelet11=function(){if(!this.state.allowTaskCreation)return null;return c('React').createElement(c('WorkTasksInput.react'),{appIntegrationName:this.state.appName,isDisabled:!this.state.isAppActive,onChange:function o(p){return c('WorkTasksActions').userAddingTask(p);},onSubmit:function o(p){return c('WorkTasksActions').addTask(p);},value:this.state.newTaskTitle});};n.prototype.$RHCWorkTasksPagelet12=function(o){c('Popup').open(o.loginUrl,700,700);window.workContentAppsOAuthCallback=function(p){var q=c('XWorkInstallContentAppOnUserController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(q).setData({code:p,type:o.type}).setMethod('POST').setHandler(c('WorkTasksActions').loadTasks).send();};};n.prototype.$RHCWorkTasksPagelet13=function(o){return o.length>m?o.substr(0,m)+'...':o;};n.prototype.$RHCWorkTasksPagelet14=function(o){var p=void 0,q='';if(o.task){var r=o.task.name||o.task.title;q=this.$RHCWorkTasksPagelet13(r);}switch(o.action){case 'personal_task_add':case 'task_add':p=j._("An error occurred while saving the task \"{task}\". Please, try again.",[j.param('task',q)]);break;case 'personal_task_delete':p=j._("An error occurred while deleting the task \"{task}\". Please, try again.",[j.param('task',q)]);break;case 'personal_tsk_edit':case 'task_edit':p=j._("An error occurred while updating the task \"{task}\". Please, try again.",[j.param('task',q)]);break;case 'personal_tasks_load':case 'tasks_load':p=j._("An error occurred while loading your tasks.");break;case 'settings_load':p=j._("An error occurred while loading your settings.");break;case 'settings_save':p=j._("An error occurred while saving your settings.");break;default:p=j._("An error occurred. Please, try again later.");}return p;};n.prototype.$RHCWorkTasksPagelet8=function(){if(!this.state.error)return null;return c('React').createElement(c('WorkTaskWidgetErrorDialog.react'),{error:this.$RHCWorkTasksPagelet14(this.state.error),onClose:c('WorkTaskWidgetErrorActions').errorShown});};f.exports=c('FluxContainer').create(n);}),null);